

DAO 水果商贩


``` java
public interface IFruitSeller {
    String buyOne();
}

public class AppleSeller implements IFruit{
    public String buyOne() {
        return "apple";
    }
}

public class OrangeSeller implements IFruit{
    public String buyOne() {
        return "orange";
    }
}
```

Service 水果市场

``` java
public interface IFruitMarket {
    String getOneFruit();
}

public class FruitMarket implements IFruitMarket{
    IFruitSeller fruitSeller = new AppleSeller();

    public String getOneFruit() {
        return fruitSeller.buyOne();
    }
}
```

Controller 调用者（用户）

``` java
public class MyTest {
    public static void main(String[] args) {
        IFruitMarket fruitMarket = new FruitMarket();
        System.out.println("I got one " + fruitMarket.getOneFruit());
    }
}
```

这样卖什么水果的主动权就在于水果市场（Service），用户如果增加了需求，比如想买橘子，市场就只能修改它本身的功能，将苹果商贩换掉，换上橘子商贩。

```java
public class FruitMarket implements IFruitMarket{
    IFruit fruit = new OrangeSeller(); //换上橘子商贩

    public String getOneFruit() {
        return fruit.buyOne();
    }
}
```

